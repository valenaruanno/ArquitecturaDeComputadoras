CONT EQU 10H 
COMP EQU 11H 
IMR EQU 21H 
EOI EQU 20H 
INT1 EQU 25H 
ID EQU 10  
PB EQU 31H
CB EQU 33H 

ORG 1500H 
NUM DB 0
FLAG DB 0

ORG 40
PEPETIMER DW IMPRIMIR

ORG 3000H 
IMPRIMIR: CMP NUM, 8
JZ INVERSO 
MOV AL, NUM
OUT PB, AL
JMP MAS1
INVERSO: MOV NUM, 6
MOV AL, NUM
OUT PB, AL
DEC NUM
CMP NUM, 0 
JNZ RESETCONT 
MAS1: INC NUM 
RESETCONT: MOV AL, 0 
OUT CONT, AL 
MOV AL, 20H 
OUT EOI, AL
IRET 

ORG 2000H 
CLI
MOV AL, 0FDH 
OUT IMR, AL
MOV AL, ID 
OUT INT1, AL 
MOV AL, 0 
OUT CONT, AL 
MOV AL, 1
OUT COMP, AL 
STI 
MOV AL, 0 
OUT CB, AL 
LOOP: JMP LOOP 
INT 0 
END 
 