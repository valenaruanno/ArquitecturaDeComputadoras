CONT EQU 10H 
COMP EQU 11H 
IMR EQU 21H 
INT1 EQU 25H 
ID EQU 10 
PA EQU 30H 
PB EQU 31H
CA EQU 32H
CB EQU 33H 

ORG 1500H
NUM DB 1

ORG 40
PEPETIMER DW IMPRIMIR 

ORG 3000H 
IMPRIMIR: MOV AL, NUM 
OUT PB, AL 
INC NUM
CMP NUM, 255 
JZ FIN 
MOV AL, 0 
OUT CONT, AL 
MOV AL, 20H 
OUT 20H, AL 
IRET 

ORG 2000H
CLI
MOV AL, 0FDH 
OUT IMR, AL 
MOV AL, 0
OUT CONT, AL 
MOV AL, 1 
OUT COMP, AL 
STI 
MOV AL, 0
OUT CB, AL 

LOOP: JMP LOOP 
FIN: MOV AL, NUM 
OUT PB, AL 
INT 0
END 